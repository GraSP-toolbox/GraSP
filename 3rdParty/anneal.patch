--- a/grasp/3rdParty/anneal/anneal.m	2014-02-12 12:20:42.000000000 +0100
+++ b/grasp/3rdParty/anneal/anneal.m	2015-11-13 14:53:50.946056840 +0100
@@ -99,7 +99,7 @@
 
 def = struct(...
         'CoolSched',@(T) (.8*T),...
-        'Generator',@(x) (x+(randperm(length(x))==length(x))*randn/100),...
+        'Generator',@(x, T) (x+(randperm(length(x))==length(x))*randn/100),...
         'InitTemp',1,...
         'MaxConsRej',1000,...
         'MaxSuccess',20,...
@@ -172,7 +172,7 @@
         end
     end
     
-    newparam = newsol(current);
+    newparam = newsol(current, T);
     newenergy = loss(newparam);
     
     if (newenergy < minF),
